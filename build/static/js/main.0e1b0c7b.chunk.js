(this["webpackJsonpstarter-client"]=this["webpackJsonpstarter-client"]||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"allCampuses",(function(){return be})),a.d(s,"campus",(function(){return ge})),a.d(s,"allStudents",(function(){return Oe})),a.d(s,"student",(function(){return fe}));var r=a(0),n=a.n(r),i=a(8),c=a.n(i),l=(a(87),a(88),a(13)),d=a(159),o=a(161),m=a(162),h=a(163),p=a(156),u=a(10),j=a(2);const b=Object(p.a)((e=>({root:{flexGrow:1},title:{flexGrow:1,textAlign:"left",fontType:"bold",fontFamily:"sans-serif",fontSize:"35px",color:"darkblue"},appBar:{backgroundColor:"#fcb6bb",shadows:["none"]},greeting:{display:"flex",justifyContent:"center",backgroundColor:"white",width:"50%",margin:"auto"},links:{textDecoration:"none"}})));var x=()=>{const e=b();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)(d.a,{position:"static",elevation:0,className:e.appBar,children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(m.a,{variant:"h6",className:e.title,color:"inherit",children:"Campus Management System"}),Object(j.jsx)(u.b,{className:e.links,to:"/",children:Object(j.jsx)(h.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},children:"Home"})}),Object(j.jsx)(u.b,{className:e.links,to:"/campuses",children:Object(j.jsx)(h.a,{variant:"contained",color:"primary",style:{marginRight:"10px"},children:"All Campuses"})}),Object(j.jsx)(u.b,{className:e.links,to:"/students",children:Object(j.jsx)(h.a,{variant:"contained",color:"primary",children:"All Students"})})]})})})};var g=()=>Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Home Page"})});var O=()=>Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsx)(g,{})]}),v=a(15);const f="FETCH_ALL_CAMPUSES",C="ADD_CAMPUS",y="DELETE_CAMPUS",S="EDIT_CAMPUS",N="FETCH_CAMPUS",w="FETCH_ALL_STUDENTS",U="ADD_STUDENT",A="DELETE_STUDENT",T="EDIT_STUDENT",E="FETCH_STUDENT",F=a(98),D=()=>async e=>{try{const a=await F.get("/api/campuses");e((t=a.data,{type:f,payload:t}))}catch(a){console.error("Error fetching campuses:",a)}var t},I=e=>async t=>{try{const a=await F.post("/api/campuses",e);return t((e=>({type:C,payload:e}))(a.data)),a.data}catch(a){throw console.error("Error adding campus:",a),a}},k=e=>async t=>{try{const s=await F.get(`/api/campuses/${e}`);t((a=s.data,{type:N,payload:a}))}catch(s){console.error("Error fetching campus:",s)}var a},L=()=>async e=>{try{const a=await F.get("/api/students");e((t=a.data,{type:w,payload:t}))}catch(a){console.error("Error fetching students:",a)}var t},P=e=>async t=>{try{const a=await F.post("/api/students",e);return t((e=>({type:U,payload:e}))(a.data)),a.data}catch(a){console.error("Error adding student:",a)}},R=e=>async t=>{try{await F.delete(`/api/students/${e}`),t((e=>({type:A,payload:e}))(e))}catch(a){console.error("Error deleting student:",a)}},B=e=>async t=>{try{const s=await F.get(`/api/students/${e}`);t((a=s.data,{type:E,payload:a}))}catch(s){console.error("Error fetching student:",s)}var a};var M=e=>{let{allCampuses:t}=e;return Object(j.jsxs)("div",{children:[0===t.length?Object(j.jsx)("p",{children:"There are no campuses yet."}):Object(j.jsx)("div",{className:"campus-list",children:t.map((e=>Object(j.jsxs)("div",{className:"campus-item",children:[Object(j.jsx)(u.b,{to:`/campus/${e.id}`,children:Object(j.jsx)("h3",{children:e.name})}),Object(j.jsx)("img",{src:e.imageUrl||"/default-campus.png",alt:e.name,width:"200",height:"150"})]},e.id)))}),Object(j.jsx)("br",{}),Object(j.jsx)(u.b,{to:"/campuses/new",children:Object(j.jsx)("button",{children:"Add New Campus"})}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})};class _ extends r.Component{componentDidMount(){this.props.fetchAllCampuses()}render(){const{allCampuses:e}=this.props;return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsx)(M,{allCampuses:e})]})}}var q=Object(v.b)((e=>({allCampuses:e.allCampuses})),(e=>({fetchAllCampuses:()=>e(D())})))(_);var $=e=>{let{students:t,deleteStudent:a}=e;return t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"All Students"}),Object(j.jsx)("div",{className:"student-list",children:t.map((e=>Object(j.jsxs)("div",{className:"student-item",children:[Object(j.jsx)(u.b,{to:`/student/${e.id}`,children:Object(j.jsxs)("h3",{children:[e.firstName," ",e.lastName]})}),Object(j.jsx)("button",{onClick:()=>a(e.id),children:"Delete"})]},e.id)))}),Object(j.jsx)("br",{}),Object(j.jsx)(u.b,{to:"/newstudent",children:Object(j.jsx)("button",{children:"Add New Student"})}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"There are no students."}),Object(j.jsxs)(u.b,{to:"/newstudent",children:[" ",Object(j.jsx)("button",{children:"Add New Student"})]})]})},z=a(164),G=a(165),H=a(122),W=a(127),J=a(124),K=a(123);const Q=Object(p.a)((()=>({formContainer:{width:"500px",backgroundColor:"#f0f0f5",borderRadius:"5px",margin:"auto",padding:"20px",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},title:{flexGrow:1,textAlign:"left",textDecoration:"none"},customizeAppBar:{backgroundColor:"#11153e",shadows:["none"]},formTitle:{backgroundColor:"#c5c8d6",marginBottom:"15px",textAlign:"center",borderRadius:"5px 5px 0px 0px",padding:"10px"},formField:{marginBottom:"15px",width:"100%"},buttonContainer:{marginTop:"20px",display:"flex",justifyContent:"space-between"}})));var V=e=>{const{handleChange:t,handleSubmit:a,allCampuses:s}=e,r=Q();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"New Student"}),Object(j.jsx)("div",{className:r.root,children:Object(j.jsxs)("div",{className:r.formContainer,children:[Object(j.jsx)("div",{className:r.formTitle,children:Object(j.jsx)(m.a,{style:{fontWeight:"bold",fontFamily:"Courier, sans-serif",fontSize:"20px",color:"#11153e"},children:"Add a Student"})}),Object(j.jsxs)("form",{style:{textAlign:"left"},onSubmit:e=>a(e),children:[Object(j.jsx)(z.a,{className:r.formField,label:"First Name",name:"firstname",variant:"outlined",onChange:e=>t(e),required:!0}),Object(j.jsx)(z.a,{className:r.formField,label:"Last Name",name:"lastname",variant:"outlined",onChange:e=>t(e),required:!0}),Object(j.jsx)(z.a,{className:r.formField,label:"Email",name:"email",variant:"outlined",type:"email",onChange:e=>t(e),required:!0}),Object(j.jsx)(z.a,{className:r.formField,label:"GPA",name:"gpa",variant:"outlined",type:"number",inputProps:{step:"0.1",min:"0",max:"4.0"},onChange:e=>t(e),required:!0,helperText:"Enter a value between 0.0 and 4.0"}),Object(j.jsx)(z.a,{className:r.formField,label:"Image URL",name:"imageUrl",variant:"outlined",onChange:e=>t(e),helperText:"Optional: Enter URL for student's profile image"}),Object(j.jsxs)(H.a,{variant:"outlined",className:r.formField,children:[Object(j.jsx)(W.a,{id:"campus-select-label",children:"Campus"}),Object(j.jsxs)(J.a,{labelId:"campus-select-label",id:"campus-select",name:"campusId",onChange:e=>t(e),label:"Campus",children:[Object(j.jsx)(G.a,{value:"",children:Object(j.jsx)("em",{children:"None"})}),s&&s.map((e=>Object(j.jsx)(G.a,{value:e.id,children:e.name},e.id)))]}),Object(j.jsx)(K.a,{children:"Select a campus (optional)"})]}),Object(j.jsxs)("div",{className:r.buttonContainer,children:[Object(j.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(j.jsx)(h.a,{component:u.b,to:"/students",variant:"contained",children:"Cancel"})]})]})]})})]})};var X=e=>{const{campus:t}=e;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:t.name}),Object(j.jsx)("p",{children:t.address}),Object(j.jsx)("p",{children:t.description}),t.students.length?t.students.map((e=>Object(j.jsx)("div",{children:Object(j.jsx)(u.b,{to:`/student/${e.id}`,children:Object(j.jsxs)("h2",{children:[e.firstName," ",e.lastName]})})},e.id))):Object(j.jsx)("p",{children:"This campus currently has no students enrolled."})]})};var Y=e=>{const{student:t}=e;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:t.firstName+" "+t.lastName}),t.campus?Object(j.jsxs)("h3",{children:["Campus: ",Object(j.jsx)(u.b,{to:`/campus/${t.campus.id}`,children:t.campus.name})]}):Object(j.jsx)("h3",{children:"This student is not enrolled in any campus."})]})};class Z extends r.Component{componentDidMount(){this.props.fetchCampus(this.props.match.params.id)}render(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsx)(X,{campus:this.props.campus})]})}}var ee=Object(v.b)((e=>({campus:e.campus})),(e=>({fetchCampus:t=>e(k(t))})))(Z);class te extends r.Component{constructor(){super(...arguments),this.handleDelete=e=>{this.props.deleteStudent(e)}}componentDidMount(){this.props.fetchAllStudents()}render(){const{allStudents:e}=this.props;return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsx)($,{students:e,deleteStudent:this.handleDelete})]})}}var ae=Object(l.g)(Object(v.b)((e=>({allStudents:e.allStudents})),(e=>({fetchAllStudents:()=>e(L()),deleteStudent:t=>e(R(t))})))(te));class se extends r.Component{componentDidMount(){this.props.fetchStudent(this.props.match.params.id)}render(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),Object(j.jsx)(Y,{student:this.props.student})]})}}var re=Object(v.b)((e=>({student:e.student})),(e=>({fetchStudent:t=>e(B(t))})))(se);class ne extends r.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleSubmit=async e=>{e.preventDefault();try{if(!this.state.firstname||!this.state.lastname||!this.state.email)return void this.setState({error:"First name, last name, and email are required fields"});const e=parseFloat(this.state.gpa);if(isNaN(e)||e<0||e>4)return void this.setState({error:"GPA must be a number between 0 and 4.0"});let t={firstname:this.state.firstname,lastname:this.state.lastname,email:this.state.email,gpa:e,imageUrl:this.state.imageUrl||void 0,campusId:this.state.campusId||null},a=await this.props.addStudent(t);a&&a.id?this.setState({firstname:"",lastname:"",email:"",gpa:"",imageUrl:"",campusId:"",redirect:!0,redirectId:a.id,error:null}):this.setState({error:"Error adding student. Please try again."})}catch(t){console.error(t),this.setState({error:"An error occurred. Please try again."})}},this.state={firstname:"",lastname:"",email:"",gpa:"",imageUrl:"",campusId:"",redirect:!1,redirectId:null,error:null}}componentDidMount(){this.props.fetchAllCampuses()}componentWillUnmount(){this.setState({redirect:!1,redirectId:null})}render(){return this.state.redirect?Object(j.jsx)(l.a,{to:`/student/${this.state.redirectId}`}):Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),this.state.error&&Object(j.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:this.state.error}),Object(j.jsx)(V,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,allCampuses:this.props.allCampuses})]})}}var ie=Object(v.b)((e=>({allCampuses:e.allCampuses})),(e=>({addStudent:t=>e(P(t)),fetchAllCampuses:()=>e(D())})))(ne);const ce=Object(p.a)((()=>({formContainer:{width:"500px",backgroundColor:"#f0f0f5",borderRadius:"5px",margin:"auto",padding:"20px",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.15)"},title:{flexGrow:1,textAlign:"left",textDecoration:"none"},customizeAppBar:{backgroundColor:"#11153e",shadows:["none"]},formTitle:{backgroundColor:"#c5c8d6",marginBottom:"15px",textAlign:"center",borderRadius:"5px 5px 0px 0px",padding:"10px"},formField:{marginBottom:"15px",width:"100%"},buttonContainer:{marginTop:"20px",display:"flex",justifyContent:"space-between"},error:{color:"red",fontSize:"0.8rem",marginTop:"2px"}})));var le=e=>{const{handleChange:t,handleSubmit:a,errors:s,values:r}=e,n=ce();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"New Campus"}),Object(j.jsx)("div",{className:n.root,children:Object(j.jsxs)("div",{className:n.formContainer,children:[Object(j.jsx)("div",{className:n.formTitle,children:Object(j.jsx)(m.a,{style:{fontWeight:"bold",fontFamily:"Courier, sans-serif",fontSize:"20px",color:"#11153e"},children:"Add a Campus"})}),Object(j.jsxs)("form",{style:{textAlign:"left"},onSubmit:e=>a(e),children:[Object(j.jsx)(z.a,{className:n.formField,label:"Campus Name",name:"name",variant:"outlined",value:r.name,onChange:e=>t(e),error:!!s.name,helperText:s.name,required:!0}),Object(j.jsx)(z.a,{className:n.formField,label:"Campus Address",name:"address",variant:"outlined",value:r.address,onChange:e=>t(e),error:!!s.address,helperText:s.address,required:!0}),Object(j.jsx)(z.a,{className:n.formField,label:"Description",name:"description",variant:"outlined",multiline:!0,rows:4,value:r.description,onChange:e=>t(e),error:!!s.description,helperText:s.description,required:!0}),Object(j.jsx)(z.a,{className:n.formField,label:"Image URL",name:"imageUrl",variant:"outlined",value:r.imageUrl,onChange:e=>t(e),error:!!s.imageUrl,helperText:s.imageUrl||"Enter a URL for the campus image"}),Object(j.jsxs)("div",{className:n.buttonContainer,children:[Object(j.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"}),Object(j.jsx)(h.a,{component:u.b,to:"/campuses",variant:"contained",children:"Cancel"})]})]})]})})]})};class de extends r.Component{constructor(e){super(e),this.validateField=(e,t)=>{let a={...this.state.errors};switch(e){case"name":a.name=0===t.trim().length?"Campus name is required":t.trim().length<2?"Campus name must be at least 2 characters":"";break;case"address":a.address=0===t.trim().length?"Address is required":"";break;case"description":a.description=0===t.trim().length?"Description is required":"";break;case"imageUrl":if(t.trim().length>0)try{new URL(t),a.imageUrl=""}catch(s){a.imageUrl="Please enter a valid URL"}else a.imageUrl=""}return a},this.validateForm=()=>{let e=!0;if(["name","address","description"].forEach((t=>{if(0===this.state[t].trim().length){const a=this.validateField(t,this.state[t]);this.setState({errors:a}),e=!1}})),this.state.imageUrl.trim().length>0)try{new URL(this.state.imageUrl)}catch(t){const a=this.validateField("imageUrl",this.state.imageUrl);this.setState({errors:a}),e=!1}return e},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState((e=>({[t]:a,errors:{...e.errors,[t]:this.validateField(t,a)[t]}})))},this.handleSubmit=async e=>{if(e.preventDefault(),this.validateForm())try{const e={name:this.state.name,address:this.state.address,description:this.state.description,imageUrl:this.state.imageUrl||void 0};let t=await this.props.addCampus(e);this.setState({name:"",address:"",description:"",imageUrl:"",redirect:!0,redirectId:t.id,submitError:null})}catch(t){this.setState({submitError:"An error occurred while adding the campus. Please try again."}),console.error(t)}},this.state={name:"",address:"",description:"",imageUrl:"",errors:{name:"",address:"",description:"",imageUrl:""},redirect:!1,redirectId:null,submitError:null}}componentWillUnmount(){this.setState({redirect:!1,redirectId:null})}render(){return this.state.redirect?Object(j.jsx)(l.a,{to:`/campus/${this.state.redirectId}`}):Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{}),this.state.submitError&&Object(j.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:this.state.submitError}),Object(j.jsx)(le,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,errors:this.state.errors,values:{name:this.state.name,address:this.state.address,description:this.state.description,imageUrl:this.state.imageUrl}})]})}}var oe=Object(v.b)(null,(e=>({addCampus:t=>e(I(t))})))(de);var me=()=>Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",component:O}),Object(j.jsx)(l.b,{exact:!0,path:"/campuses",component:q}),Object(j.jsx)(l.b,{exact:!0,path:"/campus/:id",component:ee}),Object(j.jsx)(l.b,{exact:!0,path:"/campuses/new",component:oe}),Object(j.jsx)(l.b,{exact:!0,path:"/students",component:ae}),Object(j.jsx)(l.b,{exact:!0,path:"/newstudent",component:ie}),Object(j.jsx)(l.b,{exact:!0,path:"/student/:id",component:re})]})});var he=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,166)).then((t=>{let{getCLS:a,getFID:s,getFCP:r,getLCP:n,getTTFB:i}=t;a(e),s(e),r(e),n(e),i(e)}))},pe=a(47),ue=a(69),je=a(70);var be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;case C:return[...e,t.payload];case y:return e.filter((e=>e.id!==t.payload));case S:return e.map((e=>e.id===t.payload.id?t.payload:e));default:return e}};const xe={students:[]};var ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;return t.type===N?t.payload:e};var Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload;case U:return[...e,t.payload];case A:return e.filter((e=>e.id!==t.payload));case T:return e.map((e=>e.id===t.payload.id?t.payload:e));default:return e}};const ve={campus:{}};var fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return t.type===E?t.payload:e};const Ce=Object(pe.b)(s),ye=Object(ue.createLogger)({collapsed:!0});var Se=Object(pe.c)(Ce,Object(pe.a)(je.a,ye));c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(v.a,{store:Se,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(me,{})})})}),document.getElementById("root")),he()},87:function(e,t,a){},88:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.0e1b0c7b.chunk.js.map